import{S as it,i as st,s as ot,e as tt,a as i,t as J,b as ut,c as rt,d as l,f as s,g as r,h as K,j as nt,k as e,l as o,n as Q,m as ct,o as t,p as de,q as ft,r as lt,u as ht,v as dt,w as kt,x as at}from"./index.BfT0-awT.js";/* empty css                       */class yt{constructor(){this.places={},this.transitions={},this.logs=[]}log(u){this.logs.push(u)}addPlace(u,a=0){this.places[u]=a}addTransition(u,a,f){this.transitions[u]={input:a,output:f}}canFire(u){const a=this.transitions[u];for(let f of a.input)if(this.places[f]<=0)return!1;return!0}fire(u){if(this.canFire(u)){const a=this.transitions[u];for(let f of a.input)this.places[f]--;for(let f of a.output)this.places[f]++;this.log(`✅ Transición ${u} disparada.`)}else this.log(`⚠️ Transición ${u} no puede dispararse.`)}getPosition(u){if(!u)return;const a=Object.keys(this.places).find(V=>this.places[V]===1),f=u.ownerDocument.getElementById(a),n=f.getAttribute("cx"),S=f.getAttribute("cy");return{x:n,y:S}}}function xt(h){let u,a,f,n,S,V,d,y,G,R,_,g,ce,le,v,m,fe,k,Z,E,ke,j,we,se,$,T,ye,B,_e,C,M,D,H,oe,O,U,ve,ue,ee,b,xe,W,Ee,X,ae,te,P,ge,Y,Te,q,I,ne,re,z,me,F,be,L,N,A,p,Pe,ie,he=h[1].logs.join(`
`)+"",pe,ze,We;return{c(){u=tt("div"),a=i("svg"),f=i("defs"),n=i("marker"),S=i("path"),V=i("g"),d=i("circle"),y=i("text"),G=J("P1"),R=i("g"),_=i("circle"),g=i("text"),ce=J("P2"),le=i("g"),v=i("circle"),m=i("text"),fe=J("P3"),k=i("g"),Z=i("a"),E=i("rect"),j=i("text"),we=J("T1"),se=i("g"),$=i("a"),T=i("rect"),B=i("text"),_e=J("T2"),C=i("line"),M=i("line"),D=i("line"),H=i("line"),oe=i("g"),O=i("circle"),U=i("text"),ve=J("P4"),ue=i("g"),ee=i("a"),b=i("rect"),W=i("text"),Ee=J("T3"),X=i("line"),ae=i("g"),te=i("a"),P=i("rect"),Y=i("text"),Te=J("T5"),q=i("line"),I=i("path"),ne=i("g"),re=i("a"),z=i("rect"),F=i("text"),be=J("T4"),L=i("line"),N=i("line"),A=i("path"),p=i("circle"),Pe=ut(),ie=tt("div"),pe=J(he),this.h()},l(w){u=rt(w,"DIV",{class:!0});var x=l(u);a=s(x,"svg",{width:!0,height:!0,viewBox:!0,xmlns:!0});var c=l(a);f=s(c,"defs",{});var Xe=l(f);n=s(Xe,"marker",{id:!0,markerWidth:!0,markerHeight:!0,refX:!0,refY:!0,orient:!0,markerUnits:!0});var Ye=l(n);S=s(Ye,"path",{d:!0,fill:!0}),l(S).forEach(r),Ye.forEach(r),Xe.forEach(r),V=s(c,"g",{});var Fe=l(V);d=s(Fe,"circle",{id:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),l(d).forEach(r),y=s(Fe,"text",{x:!0,y:!0,"font-family":!0,"font-size":!0,fill:!0,style:!0});var qe=l(y);G=K(qe,"P1"),qe.forEach(r),Fe.forEach(r),R=s(c,"g",{});var Ae=l(R);_=s(Ae,"circle",{id:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),l(_).forEach(r),g=s(Ae,"text",{x:!0,y:!0,"font-family":!0,"font-size":!0,fill:!0,style:!0});var Le=l(g);ce=K(Le,"P2"),Le.forEach(r),Ae.forEach(r),le=s(c,"g",{});var je=l(le);v=s(je,"circle",{id:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),l(v).forEach(r),m=s(je,"text",{x:!0,y:!0,"font-family":!0,"font-size":!0,fill:!0,style:!0});var Ne=l(m);fe=K(Ne,"P3"),Ne.forEach(r),je.forEach(r),k=s(c,"g",{transform:!0,style:!0});var Se=l(k);Z=s(Se,"a",{href:!0,"aria-label":!0});var Be=l(Z);E=s(Be,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0,fill:!0,class:!0}),l(E).forEach(r),j=s(Be,"text",{x:!0,y:!0,"font-family":!0,"font-size":!0,fill:!0,style:!0});var Ve=l(j);we=K(Ve,"T1"),Ve.forEach(r),Be.forEach(r),Se.forEach(r),se=s(c,"g",{transform:!0});var Oe=l(se);$=s(Oe,"a",{href:!0,"aria-label":!0});var Ce=l($);T=s(Ce,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0,fill:!0,class:!0}),l(T).forEach(r),B=s(Ce,"text",{x:!0,y:!0,"font-family":!0,"font-size":!0,fill:!0,style:!0});var Ge=l(B);_e=K(Ge,"T2"),Ge.forEach(r),Ce.forEach(r),Oe.forEach(r),C=s(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"marker-end":!0,style:!0}),l(C).forEach(r),M=s(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"marker-end":!0,style:!0}),l(M).forEach(r),D=s(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"marker-end":!0,style:!0}),l(D).forEach(r),H=s(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"marker-end":!0,style:!0}),l(H).forEach(r),oe=s(c,"g",{});var Me=l(oe);O=s(Me,"circle",{id:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),l(O).forEach(r),U=s(Me,"text",{x:!0,y:!0,"font-family":!0,"font-size":!0,fill:!0,style:!0});var Ie=l(U);ve=K(Ie,"P4"),Ie.forEach(r),Me.forEach(r),ue=s(c,"g",{transform:!0});var Je=l(ue);ee=s(Je,"a",{href:!0,"aria-label":!0});var De=l(ee);b=s(De,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0,fill:!0,class:!0}),l(b).forEach(r),W=s(De,"text",{x:!0,y:!0,"font-family":!0,"font-size":!0,fill:!0,style:!0});var Ke=l(W);Ee=K(Ke,"T3"),Ke.forEach(r),De.forEach(r),Je.forEach(r),X=s(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"marker-end":!0,style:!0}),l(X).forEach(r),ae=s(c,"g",{transform:!0,style:!0});var Qe=l(ae);te=s(Qe,"a",{href:!0,"aria-label":!0});var He=l(te);P=s(He,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0,fill:!0,class:!0}),l(P).forEach(r),Y=s(He,"text",{x:!0,y:!0,"font-family":!0,"font-size":!0,fill:!0,style:!0});var Re=l(Y);Te=K(Re,"T5"),Re.forEach(r),He.forEach(r),Qe.forEach(r),q=s(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"marker-end":!0,style:!0}),l(q).forEach(r),I=s(c,"path",{style:!0,d:!0,"marker-end":!0}),l(I).forEach(r),ne=s(c,"g",{transform:!0});var Ze=l(ne);re=s(Ze,"a",{href:!0,"aria-label":!0});var Ue=l(re);z=s(Ue,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0,fill:!0,class:!0}),l(z).forEach(r),F=s(Ue,"text",{x:!0,y:!0,"font-family":!0,"font-size":!0,fill:!0,style:!0,transform:!0});var $e=l(F);be=K($e,"T4"),$e.forEach(r),Ue.forEach(r),Ze.forEach(r),L=s(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"marker-end":!0,style:!0}),l(L).forEach(r),N=s(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"marker-end":!0,style:!0}),l(N).forEach(r),A=s(c,"path",{style:!0,d:!0,"marker-end":!0,transform:!0}),l(A).forEach(r),p=s(c,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,opacity:!0}),l(p).forEach(r),c.forEach(r),Pe=nt(x),ie=rt(x,"DIV",{class:!0});var et=l(ie);pe=K(et,he),et.forEach(r),x.forEach(r),this.h()},h(){e(S,"d","M0,0 L0,6 L5,3 z"),e(S,"fill","black"),e(n,"id","arrow"),e(n,"markerWidth","10"),e(n,"markerHeight","10"),e(n,"refX","5"),e(n,"refY","3"),e(n,"orient","auto"),e(n,"markerUnits","strokeWidth"),e(d,"id","P1"),e(d,"cx","40"),e(d,"cy","40"),e(d,"r","20"),e(d,"stroke","black"),e(d,"stroke-width","2"),e(d,"fill","white"),e(y,"x","33"),e(y,"y","45"),e(y,"font-family","Arial"),e(y,"font-size","12"),e(y,"fill","black"),o(y,"white-space","pre"),o(y,"font-size","12px"),e(_,"id","P2"),e(_,"cx","160"),e(_,"cy","40"),e(_,"r","20"),e(_,"stroke","black"),e(_,"stroke-width","2"),e(_,"fill","white"),e(g,"x","153"),e(g,"y","45"),e(g,"font-family","Arial"),e(g,"font-size","12"),e(g,"fill","black"),o(g,"white-space","pre"),o(g,"font-size","12px"),e(v,"id","P3"),e(v,"cx","280"),e(v,"cy","40"),e(v,"r","20"),e(v,"stroke","black"),e(v,"stroke-width","2"),e(v,"fill","white"),e(m,"x","273"),e(m,"y","45"),e(m,"font-family","Arial"),e(m,"font-size","12"),e(m,"fill","black"),o(m,"white-space","pre"),o(m,"font-size","12px"),e(E,"x","97.519"),e(E,"y","31.555"),e(E,"width","20"),e(E,"height","40"),e(E,"stroke","black"),e(E,"stroke-width","2"),e(E,"fill","gray"),e(E,"class",ke=Q(h[1].canFire("T1")?"highlight":"")+" svelte-yue1ur"),e(j,"x","100.519"),e(j,"y","56.555"),e(j,"font-family","Arial"),e(j,"font-size","12"),e(j,"fill","white"),o(j,"white-space","pre"),o(j,"font-size","12px"),e(Z,"href","#T1"),e(Z,"aria-label","T1"),e(k,"transform","matrix(1, 0, 0, 1, -7.518997, -11.555)"),o(k,"transform-origin","7.519px 11.555px"),e(T,"x","197.519"),e(T,"y","31.555"),e(T,"width","20"),e(T,"height","40"),e(T,"stroke","black"),e(T,"stroke-width","2"),e(T,"fill","gray"),e(T,"class",ye=Q(h[1].canFire("T2")?"highlight":"")+" svelte-yue1ur"),e(B,"x","200.519"),e(B,"y","56.555"),e(B,"font-family","Arial"),e(B,"font-size","12"),e(B,"fill","white"),o(B,"white-space","pre"),o(B,"font-size","12px"),e($,"href","#T2"),e($,"aria-label","T2"),e(se,"transform","matrix(1, 0, 0, 1, 12.481003, -11.555)"),e(C,"x1","60"),e(C,"y1","40"),e(C,"x2","90"),e(C,"y2","40"),e(C,"stroke","black"),e(C,"stroke-width","2"),e(C,"marker-end","url(#arrow)"),e(C,"style",""),e(M,"x1","110"),e(M,"y1","40"),e(M,"x2","140"),e(M,"y2","40"),e(M,"stroke","black"),e(M,"stroke-width","2"),e(M,"marker-end","url(#arrow)"),e(M,"style",""),e(D,"x1","180"),e(D,"y1","40"),e(D,"x2","210"),e(D,"y2","40"),e(D,"stroke","black"),e(D,"stroke-width","2"),e(D,"marker-end","url(#arrow)"),e(D,"style",""),e(H,"x1","230"),e(H,"y1","40"),e(H,"x2","260"),e(H,"y2","40"),e(H,"stroke","black"),e(H,"stroke-width","2"),e(H,"marker-end","url(#arrow)"),e(H,"style",""),e(O,"id","P4"),e(O,"cx","160"),e(O,"cy","140"),e(O,"r","20"),e(O,"stroke","black"),e(O,"stroke-width","2"),e(O,"fill","white"),e(U,"x","153"),e(U,"y","144.5"),e(U,"font-family","Arial"),e(U,"font-size","12"),e(U,"fill","black"),o(U,"white-space","pre"),o(U,"font-size","12px"),e(b,"x","197.519"),e(b,"y","31.555"),e(b,"width","20"),e(b,"height","40"),e(b,"stroke","black"),e(b,"stroke-width","2"),e(b,"fill","gray"),e(b,"class",xe=Q(h[1].canFire("T3")?"highlight":"")+" svelte-yue1ur"),e(W,"x","200.519"),e(W,"y","56.555"),e(W,"font-family","Arial"),e(W,"font-size","12"),e(W,"fill","white"),o(W,"white-space","pre"),o(W,"font-size","12px"),e(ee,"href","#T3"),e(ee,"aria-label","T3"),e(ue,"transform","matrix(1, 0, 0, 1, 12.481003, 88.445)"),e(X,"x1","210"),e(X,"y1","139.481"),e(X,"x2","180"),e(X,"y2","139.481"),e(X,"stroke","black"),e(X,"stroke-width","2"),e(X,"marker-end","url(#arrow)"),e(X,"style",""),e(P,"x","97.519"),e(P,"y","31.555"),e(P,"width","20"),e(P,"height","40"),e(P,"stroke","black"),e(P,"stroke-width","2"),e(P,"fill","gray"),e(P,"class",ge=Q(h[1].canFire("T5")?"highlight":"")+" svelte-yue1ur"),e(Y,"x","100.519"),e(Y,"y","56.555"),e(Y,"font-family","Arial"),e(Y,"font-size","12"),e(Y,"fill","white"),o(Y,"white-space","pre"),o(Y,"font-size","12px"),e(te,"href","#T5"),e(te,"aria-label","T5"),e(ae,"transform","matrix(1, 0, 0, 1, -7.518998, 88.445)"),e(ae,"style",""),e(q,"x1","140"),e(q,"y1","139.481"),e(q,"x2","110"),e(q,"y2","139.481"),e(q,"stroke","black"),e(q,"stroke-width","2"),e(q,"marker-end","url(#arrow)"),e(q,"style",""),o(I,"fill","transparent"),o(I,"stroke","rgb(0, 0, 0)"),o(I,"stroke-width","2px"),o(I,"paint-order","fill"),e(I,"d","M 279.985 60 C 280.997 130.605 230 140 230 140"),e(I,"marker-end","url(#arrow)"),e(z,"x","140"),e(z,"y","70"),e(z,"width","40"),e(z,"height","20"),e(z,"stroke","black"),e(z,"stroke-width","2"),e(z,"fill","gray"),e(z,"class",me=Q(h[1].canFire("T4")?"highlight":"")+" svelte-yue1ur"),e(F,"x","153.589"),e(F,"y","85.353"),e(F,"font-family","Arial"),e(F,"font-size","12"),e(F,"fill","white"),o(F,"white-space","pre"),o(F,"font-size","12px"),e(F,"transform","matrix(1, 0, 0, 0.966284, -0.591008, 1.545152)"),e(re,"href","#T4"),e(re,"aria-label","T4"),e(ne,"transform","matrix(1, 0, 0, 1, 0, 10)"),e(L,"x1","160"),e(L,"y1","120"),e(L,"x2","160"),e(L,"y2","100"),e(L,"stroke","black"),e(L,"stroke-width","2"),e(L,"marker-end","url(#arrow)"),o(L,"transform-origin","160.93px 110px"),e(N,"x1","160"),e(N,"y1","80"),e(N,"x2","160"),e(N,"y2","60"),e(N,"stroke","black"),e(N,"stroke-width","2"),e(N,"marker-end","url(#arrow)"),o(N,"transform-origin","160.93px 74.832px"),o(A,"fill","transparent"),o(A,"stroke","rgb(0, 0, 0)"),o(A,"stroke-width","2px"),o(A,"paint-order","fill"),o(A,"transform-box","fill-box"),o(A,"transform-origin","50% 50%"),e(A,"d","M 104.976 75 C 106.596 119.128 25 125 25 125"),e(A,"marker-end","url(#arrow)"),e(A,"transform","matrix(0, 1, -1, 0, -0.000007, -0.000007)"),e(p,"class","token svelte-yue1ur"),e(p,"cx",h[2]),e(p,"cy",h[3]),e(p,"r","8"),e(p,"stroke","black"),e(p,"stroke-width","1"),e(p,"fill","blue"),e(p,"opacity","0.5"),e(a,"width","320"),e(a,"height","180"),e(a,"viewBox","0 0 320 180"),e(a,"xmlns","http://www.w3.org/2000/svg"),e(ie,"class","bg-black text-green-400 p-4 mt-4 rounded-lg overflow-y-auto h-40 w-80 overflow-x-hidden whitespace-pre-wrap text-xs"),e(u,"class","flex flex-row justify-evenly")},m(w,x){ct(w,u,x),t(u,a),t(a,f),t(f,n),t(n,S),t(a,V),t(V,d),t(V,y),t(y,G),t(a,R),t(R,_),t(R,g),t(g,ce),t(a,le),t(le,v),t(le,m),t(m,fe),t(a,k),t(k,Z),t(Z,E),t(Z,j),t(j,we),t(a,se),t(se,$),t($,T),t($,B),t(B,_e),t(a,C),t(a,M),t(a,D),t(a,H),t(a,oe),t(oe,O),t(oe,U),t(U,ve),t(a,ue),t(ue,ee),t(ee,b),t(ee,W),t(W,Ee),t(a,X),t(a,ae),t(ae,te),t(te,P),t(te,Y),t(Y,Te),t(a,q),t(a,I),t(a,ne),t(ne,re),t(re,z),t(re,F),t(F,be),t(a,L),t(a,N),t(a,A),t(a,p),h[11](a),t(u,Pe),t(u,ie),t(ie,pe),h[12](ie),ze||(We=[de(Z,"click",h[6]),de($,"click",h[7]),de(ee,"click",h[8]),de(te,"click",h[9]),de(re,"click",h[10])],ze=!0)},p(w,[x]){x&2&&ke!==(ke=Q(w[1].canFire("T1")?"highlight":"")+" svelte-yue1ur")&&e(E,"class",ke),x&2&&ye!==(ye=Q(w[1].canFire("T2")?"highlight":"")+" svelte-yue1ur")&&e(T,"class",ye),x&2&&xe!==(xe=Q(w[1].canFire("T3")?"highlight":"")+" svelte-yue1ur")&&e(b,"class",xe),x&2&&ge!==(ge=Q(w[1].canFire("T5")?"highlight":"")+" svelte-yue1ur")&&e(P,"class",ge),x&2&&me!==(me=Q(w[1].canFire("T4")?"highlight":"")+" svelte-yue1ur")&&e(z,"class",me),x&4&&e(p,"cx",w[2]),x&8&&e(p,"cy",w[3]),x&2&&he!==(he=w[1].logs.join(`
`)+"")&&ft(pe,he)},i:lt,o:lt,d(w){w&&r(u),h[11](null),h[12](null),ze=!1,ht(We)}}}function gt(h,u,a){let f,n=new yt,S=0,V=0,d;n.addPlace("P1",1),n.addPlace("P2",0),n.addPlace("P3",0),n.addPlace("P4",0),n.addTransition("T1",["P1"],["P2"]),n.addTransition("T2",["P2"],["P3"]),n.addTransition("T3",["P3"],["P4"]),n.addTransition("T4",["P4"],["P2"]),n.addTransition("T5",["P4"],["P1"]);function y(){const k=n.getPosition(f);a(2,S=k.x),a(3,V=k.y),a(1,n)}function G(k){n.fire(k),y()}function R(){d&&a(4,d.scrollTop=d.scrollHeight,d)}dt(()=>{R()}),kt(()=>{y(),R()});const _=()=>G("T1"),g=()=>G("T2"),ce=()=>G("T3"),le=()=>G("T5"),v=()=>G("T4");function m(k){at[k?"unshift":"push"](()=>{f=k,a(0,f)})}function fe(k){at[k?"unshift":"push"](()=>{d=k,a(4,d)})}return[f,n,S,V,d,G,_,g,ce,le,v,m,fe]}class wt extends it{constructor(u){super(),st(this,u,gt,xt,ot,{})}}export{wt as default};
